function downloadRNBSPDF(e,t){jQuery.support.cors=!0;var o=$("html").attr("lang");$.ajax({url:"/bill/exists/rnbs/"+e+"/"+t,type:"GET",dataType:"text",success:function(t){jsonObj=JSON.parse(t),console.log(jsonObj),"fail"==jsonObj.status?"zh-TW"==o?swal("查無此電費通知單電子檔。"):swal("No electronic file for this electricity bill."):window.location.href="/bill/download/rnbs/"+e},error:function(e,t,o){alert(e.status)}})}function checkRedisExist(e){jQuery.support.cors=!0;var t=!1;return $.ajax({url:"/bill/exists/rnb/"+e,type:"GET",async:!1,dataType:"text",success:function(e){jsonObj=JSON.parse(e),console.log(jsonObj),t="fail"!=jsonObj.status},error:function(e,o,s){t=!1}}),t}function checkAlias(e,t){jQuery.support.cors=!0,console.log(e);var o=$("html").attr("lang"),s=!1;return""==e?($(':input[type="submit"]').prop("disabled",!1),s):($.ajax({url:"/bill/myelec-app/exists/"+t+"/"+e,type:"GET",async:!1,dataType:"text",success:function(e){jsonObj=JSON.parse(e),console.log(jsonObj),"fail"==jsonObj.status?(s=!1,"zh-TW"==o?swal("您所輸入暱稱己存在，請修正。"):swal("The nickname you entered already exists. Please correct it.")):s=!0},error:function(e,t,o){s=!1}}),s?$(':input[type="submit"]').prop("disabled",!1):$(':input[type="submit"]').prop("disabled",!0),s)}function checkKeyGenExists(e,t){jQuery.support.cors=!0;var o=$("html").attr("lang"),s=!1;return""==e||$.ajax({url:"/bill/myelec/exists/"+t+"/"+e,type:"GET",async:!1,dataType:"text",success:function(e){"fail"==(jsonObj=JSON.parse(e)).status?(s=!1,"zh-TW"==o?swal("您所輸入之電號不屬於您所註冊之電號。"):swal("The customer number you entered does not belong to the customer number you registered.")):s=!0},error:function(e,t,o){s=!1}}),s}function setUsePowerCustNoS(){var e,t,o=[],s=[],n=$("html").attr("lang");$.each(mycustNoList,function(e,t){Base64.decode(t.txtalias)==Base64.decode(t.txtno)?o.push(Base64.decode(t.txtno)):s.push(Base64.decode(t.txtalias))});var r=s.sort().map(function(e){return{label:e,item:e,group:"暱稱清單"}});o.sort().map(function(e){return{label:e,item:e,group:"電號清單"}}).concat(r),$.each(s,function(t,o){"undefined"!=o&&(e+='<option value="'+o+'">'+o+"</option>")}),s.length>0&&("zh-TW"==n?$("#txtselcustNo").empty().append('<optgroup label="暱稱清單">'+e+"</optgroup>"):$("#txtselcustNo").empty().append('<optgroup label="Nickname List">'+e+"</optgroup>")),$.each(o,function(e,o){"undefined"!=o&&(t+='<option value="'+o+'">'+o+"</option>")}),s.length>0?"zh-TW"==n?$("#txtselcustNo").append('<optgroup label="電號清單">'+t+"</optgroup>"):$("#txtselcustNo").append('<optgroup label="Customer Number List">'+t+"</optgroup>"):"zh-TW"==n?$("#txtselcustNo").empty().append('<optgroup label="電號清單">'+t+"</optgroup>"):$("#txtselcustNo").empty().append('<optgroup label="Customer Number List">'+t+"</optgroup>"),$(".selectpicker").selectpicker("refresh")}function setBuyPowerCustNoS(){var e,t,o=[],s=[],n=$("html").attr("lang");$.each(mycustNoBuyList,function(e,t){Base64.decode(t.txtalias)==Base64.decode(t.txtno)?o.push(Base64.decode(t.txtno)):s.push(Base64.decode(t.txtalias))});var r=s.sort().map(function(e){return{label:e,item:e,group:"暱稱清單"}});o.sort().map(function(e){return{label:e,item:e,group:"電號清單"}}).concat(r),$.each(o,function(t,o){"undefined"!=o&&(e+='<option value="'+o+'">'+o+"</option>")}),"zh-TW"==n?$("#txtselcustNo").empty().append('<optgroup label="電號清單">'+e+"</optgroup>"):$("#txtselcustNo").empty().append('<optgroup label="Customer Number List">'+e+"</optgroup>"),$.each(s,function(e,o){"undefined"!=o&&(t+='<option value="'+o+'">'+o+"</option>")}),"zh-TW"==n?$("#txtselcustNo").append('<optgroup label="暱稱清單">'+t+"</optgroup>"):$("#txtselcustNo").append('<optgroup label="Nickname List">'+t+"</optgroup>"),$(".selectpicker").selectpicker("refresh")}function setFontsize(e){null!=e&&($("a[cat='font']").each(function(){var t=$(this).attr("class").replace(" here","");$(this).removeClass(),t==e?$(this).addClass(t+" here"):$(this).addClass(t)}),createCookie("font",e,365))}function playvoice(e){var t=document.getElementById(e);$(t).attr("src","/captcha/getCaptchaSound?"+Math.random()),t.play();var o=document.getElementById("noscriptVoiceCode");$(o).attr("src",$(o).attr("src")+"?"+Math.random())}function isWebview(){var e=navigator.userAgent,t=RegExp("(${rules.join("|")})","ig");return Boolean(e.match(t))}$(function(){$(".singleSlider").slick({dots:!0,arrow:!0,infinite:!0,speed:500,autoplay:!0,fade:!0,cssEase:"ease"}),$(".adSlider").slick({dots:!1,infinite:!0,speed:300,slidesToShow:5,slidesToScroll:1,autoplay:!0,arrow:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4,infinite:!0,dots:!1,arrows:!0}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3,arrows:!0}},{breakpoint:575,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}}]}),$(".news_slick").slick({arrow:!0,infinite:!0,speed:1500,autoplay:!0,cssEase:"ease"}),$(".language a").click(function(){return $(".language ul").slideToggle(500),!1}),$(".sitemaplist2").slick({arrows:!0,autoplay:!0,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:575,settings:{slidesToShow:1,slidesToScroll:1}}]})}),$(function(){$(".accordionblock .A").css("display","none"),$(".accordionblock .Q").click(function(){$(this).next(".A").slideToggle(),$(this).parent().siblings().children(".A").slideUp(),$(this).parent().siblings().children(".Q").removeClass("turnicon"),$(this).toggleClass("turnicon")})}),$(function(){var e;$(window).on("resize",function(t){clearTimeout(e),e=setTimeout(function e(){var t=$(window).width(),o=$(".problemmenu ul").height();if($(".result").each(function(){$(".problemmenu ul").css("height","auto"),$(this).find("#journalaftermore").hide(),$(this).find("a.more").off("click").on("click",function(){$(".problemmenu ul").css("height","auto"),$(this).toggleClass("inverse"),$(this).parent().siblings("ul").find("#journalaftermore").stop(!0,!1).slideToggle()})}),t<=991){var s=!1;readCookie("font"),setFontsize("small"),document.getElementById("small").click(),$(".custom").hide(),$(".problemmenu>h2").click(function(e){t<=991?s?($(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").stop(!0,!1).slideUp(),s=!1,console.log("resultH"+o)):($(".problemmenu>h2").addClass("closed"),$(".problemmenu ul").stop(!0,!1).slideDown(),$(".problemmenu ul").height(0),s=!0,console.log("resultH"+o)):($(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").show())})}else $(".problemmenu>h2").off("click"),$(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").stop(!0,!1).show(),$(".custom").show()},50)}),$(window).ready(function(t){clearTimeout(e),e=setTimeout(function e(){var t=$(window).width(),o=$(".problemmenu ul").height();if($(".result").each(function(){$(".problemmenu ul").css("height","auto"),$(this).find("#journalaftermore").hide(),$(this).find("a.more").off("click").on("click",function(){$(".problemmenu ul").css("height","auto"),$(this).toggleClass("inverse"),$(this).parent().siblings("ul").find("#journalaftermore").stop(!0,!1).slideToggle()})}),t<=991){var s=!1;$(".problemmenu>h2").click(function(e){t<=991?s?($(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").stop(!0,!1).slideUp(),s=!1,console.log("resultH"+o)):($(".problemmenu>h2").addClass("closed"),$(".problemmenu ul").stop(!0,!1).slideDown(),$(".problemmenu ul").height(0),s=!0,console.log("resultH"+o)):($(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").show())})}else $(".problemmenu>h2").off("click"),$(".problemmenu>h2").removeClass("closed"),$(".problemmenu ul").stop(!0,!1).show()},50)}),$("#openAddCucstAdminModal").click(function(e){var t=$("input[name*=radioaddcustnotype]:checked").val(),o="";o="A"==t?"#form1":"#form2",$("#addCucstAdminModal").is(":hidden")?($(o+" input[name=areaShowStatus]").val("open"),$("#addCucstAdminModal").show(),$("#addGroupModal").hide(),$("#listGroupModal").hide(),$("#openGroup").attr("value","close"),$("#openAddGroup").attr("value","close"),$(o+" input[name=custNo]").focus()):($(o+" input[name=areaShowStatus]").val("close"),$("#addCucstAdminModal").hide()),e.preventDefault()})}),$().ready(function(){$(".month_degree").slick({dots:!1,infinite:!0,speed:300,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:900,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:700,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:540,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".tabs").tabs({tiGap:8,selected:function(e,t,o){$(".month_degree.slick-initialized").slick("unslick");var s=$(o).find(".month_degree");s.is(".slick-slider")||s.slick({dots:!1,infinite:!1,speed:300,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:900,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:700,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:540,settings:{slidesToShow:2,slidesToScroll:1}}]})}})}),$(function(){$(".news_slick").find("p").each(function(e){if($(this).text().length>85){$(this).attr("title",$(this).text());var t=$(this).text().substring(0,84)+"...";$(this).text(t)}}),$(".custom a.small").click(function(){$(".main").removeClass("middleword").removeClass("bigword").addClass("smallword")}),$(".custom a.middle").click(function(){$(".main").removeClass("smallword").removeClass("bigword").addClass("middleword")}),$(".custom a.big").click(function(){$(".main").removeClass("smallword").removeClass("middleword").addClass("bigword")}),$("a[cat='font']").click(function(){setFontsize($(this).attr("class").replace(" here",""))});var e=readCookie("font");null!=e?(setFontsize(e),document.getElementById(e).click()):991>=$(window).width()?(setFontsize("small"),document.getElementById("small").click()):(setFontsize("middle"),document.getElementById("middle").click())}),$(document).ready(function(){$(".Q:first-child").trigger("click")}),$(function(){$(".blockexplain .close").click(function(){$(".blockexplain").fadeOut()}),$(".AMIexplain").click(function(){$(".blockexplain").fadeIn()})}),$(function(){$("#chinese-model").click(function(){window.location.replace("/?siteLanguage=zh-TW")}),$("#english-model").click(function(){window.location.replace("/?siteLanguage=en")})}),$(function(){$(".keyboard_block>a").click(function(){$(".keyboard_content").stop().slideToggle(500)})}),$(function(){$("#searchform").hide(),$(".search_collapse>a").click(function(){$("#searchform").slideToggle(),$(this).toggleClass("open")})}),$(function(){var e;1025>$(window).width()||isWebview()}),$(document).ajaxError(function(e,t,o){var s=$("html").attr("lang");console.log(t.status),"403"==t.status&&("zh-TW"==s?swal("操作逾時!","請您重新整理頁面","warning"):swal("Operation timed out!","Please refresh the page","warning"))});var memberRegistration=$("#memberRegistration"),userLogin=document.getElementsByClassName("membername"),isLogin=$("div").hasClass("memberloginblock"),theLanguage=$("html").attr("lang"),timefly=18e5,beginDt=new Date;function retime(){beginDt=new Date}function checkTime(){(nowDt=new Date)-beginDt>timefly&&("zh-TW"==theLanguage?swal("操作逾時!","請您重新整理頁面","warning").then(function(){window.location.href="/"}):swal("Operation timed out!","Please refresh the page","warning").then(function(){window.location.href="/"}))}function FirefoxVersion(){var e,t={};return(e=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/))&&(t.firefox=e[1]),!!t.firefox}function ChromeVersion(){var e,t={};return(e=navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/))&&(t.chrome=e[1]),!!t.chrome}function IEVersion(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,o=e.indexOf("Edge")>-1&&!t,s=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){RegExp("MSIE (\\d+\\.\\d+);").test(e);var n=parseFloat(RegExp.$1);if(7==n)return 7;if(8==n)return 8;if(9==n)return 9;else if(10==n)return 10;else return 6}return o?"edge":s?11:-1}function toASCII(e){for(var t="",o=0,s=e.length;o<s;o++){var n=e[o].charCodeAt(0);n>=65280&&n<=65519&&(n=255&n+32),t+=String.fromCharCode(n)}return t}function ToCDB(e){for(var t="",o=0;o<e.length;o++){if(12288==e.charCodeAt(o)){t=String.fromCharCode(e.charCodeAt(o)-12256);continue}t=e.charCodeAt(o)>65280&&65375>e.charCodeAt(o)?String.fromCharCode(e.charCodeAt(o)-65248):String.fromCharCode(e.charCodeAt(o))}return t}function checkID(e){var t=/^[A-Z](1|2)\d{8}$/i;if(!1==t.test(e))return!1;var o=[1,9,8,7,6,5,4,3,2,1],s=0;if(t.test(e)){for(var n=e.charAt(e.length-1),r="ABCDEFGHIJKMNOPQTUVWXZLRSY".indexOf(e.charAt(0)),l=["10","11","12","13","14","15","16","17","34","18","19","21","22","35","23","24","27","28","29","32","30","33","20","25","26","31"][r]+e.substr(1,9),r=0;r<o.length;r++)s+=parseInt(l.charAt(r))*o[r];return(0!=n||s%10==n)&&(0==n||10-s%10==n)}}function checkARC(e){var t=/^[A-Z][A-D]\d{8}$/i,o=/^[A-Z](8|9)\d{8}$/i;if(!(!0==t.test(e)||!0==o.test(e)))return!1;var s="ABCDEFGHIJKMNOPQTUVWXZLRSY",n=["10","11","12","13","14","15","16","17","34","18","19","21","22","35","23","24","27","28","29","32","30","33","20","25","26","31"],r=[1,9,8,7,6,5,4,3,2,1],l=0;if(t.test(e)||o.test(e)){var a=e.charAt(e.length-1),c=s.indexOf(e.charAt(0)),u=s.indexOf(e.charAt(1)),d="";d=t.test(e)?n[u].charAt(1):e.substr(1,1);for(var p=n[c]+d+e.substr(2,9),c=0;c<r.length;c++)l+=parseInt(p.charAt(c))*r[c];return(0!=a||l%10==a)&&(0==a||10-l%10==a)}}function CheckCompanyNo(e,t){var o=new String("12121241"),s=0;if(!(re=/^\d{8}$/).test(e))return!1;for(i=0;i<8;i++)s+=cal((s1=parseInt(e.substr(i,1)))*(s2=parseInt(o.substr(i,1))));return valid(s,t)||"7"!=e.substr(6,1)?valid(s,t):valid(s+1,t)}function valid(e,t){var o=10;return null!=t&&t>0&&(o=t),e%o==0}function cal(e){for(var t=0;0!=e;)t+=e%10,e=(e-e%10)/10;return t}function clen(e){return e.replace(/[^\x00-\xff]/g,"xx").length}function len(e){return e.length}function showAmiMaintainMsg(){swal({title:"維護提醒",text:"智慧電表系統維護中，用電圖表相關功能將暫時無法使用",type:"warning",icon:"warning",timer:5e3,showConfirmButton:!1})}(userLogin.length>0||memberRegistration.length>0||!0==isLogin)&&(document.onmousemove=retime,document.onkeypress=retime,setInterval("checkTime()",3e5)),$(function(){$(".new_member_category label").click(function(){$(this).addClass("choose"),$(this).siblings().removeClass("choose"),$(".new_member_category p").fadeIn()})});